# Задание 33.1. Генераторы коллекций. list, dict, set comprehensions

## Блок урока
«Введение в генераторы коллекций» — целенаправленно заменить шаблонные циклы на одно выразительное выражение и оценить выгоду по читаемости.

## Условие задачи
**Сложность**: <span style="color: #c62828">● сложный</span>. примерное время: 15–20 минут

Есть лог сервиса доставки — список кортежей `(order_id, status, retries)`. Сгенерируй через одно list comprehension список строк `"order_id: status"` только для записей, где `status` равен `'failed'`, но `retries < 2`. Одновременно посчитай общее количество таких заказов и добавь в конец списка строку `"total_failed: N"`, где `N` — найденное число. Подумай, как обойтись без отдельного цикла, используя дополнительный генератор внутри.

## Пример входных данных
```
logs = [
    ("A-17", "ok", 0),
    ("B-04", "failed", 1),
    ("C-31", "failed", 3),
    ("D-22", "failed", 0)
]
```

## Пример выходных данных
```
['B-04: failed', 'D-22: failed', 'total_failed: 2']
```

## Критерии успешного выполнения
- Основная часть сформирована одним comprehension.
- Строка `total_failed` формируется на основе того же набора данных, без подсчёта в отдельном цикле.
- В итог не попадают заказы с `retries >= 2` или статусом, отличным от `failed`.
- Исходный список `logs` остаётся неизменным.

## Подсказки
- Рассмотри идею с промежуточным генератором для фильтрации и последующим объединением списков через `+`.
- Используй `sum(1 for ...)` чтобы получить количество подходящих записей.

## Частые ошибки и ограничения
- Разнесение логики по нескольким comprehension ухудшает читаемость, сохраняй одно основное выражение.
- Не вставляй `print` или побочных эффектов внутри comprehension.
- Следи, чтобы «total_failed» добавлялся один раз в конце, а не для каждого элемента.
